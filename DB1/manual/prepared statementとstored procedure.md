■Prepared Statement
プログラミング言語側における手法
SQLインジェクションが防げる
事前にSQL文がコンパイルされ、フォーマットされるため
値だけを後から入力する
データ型の自動変換もするためType Safe

■Stored Procedure
DB側における手法
SQL文を定義し、後からCALLで呼び出す時に値だけ渡す
データを挿入する時は、INSERTを使用するが、直接SQL文を記載するのではなく、関数のようなStored Procedureを定義して
Stored Procedureの引数に値を渡して呼び出してINSERTするようにできる
よく使うSQL文を短い関数名だけで呼び出せるようにすることにも使える

■CallableStatement
Javaにおいて、Stored Procedureを実行するためのライブラリ
connection.prepareCall("{CALL GetUserNameById(?, ?)}");

■比較
| 条件 | Prepared Statement | Stored Procedure |
|------|-------------------|------------------|
| **シンプルなクエリ** | ✅ 適している | ❌ 必要なし |
| **パラメータを変更しながら繰り返し実行** | ✅ 高速化に有効 | ❌ 過剰 |
| **アプリケーション側でロジックを管理したい** | ✅ 柔軟に制御できる | ❌ DB に依存 |
| **複雑な処理（条件分岐、ループなど）** | ❌ コードが煩雑になりがち | ✅ 適している |
| **ネットワーク通信を減らしたい** | ❌ 毎回クエリを送る | ✅ DB側で処理 |
| **複数のアプリケーション（言語）から共通利用したい** | ❌ アプリ固有になりがち | ✅ 再利用可能 |
| **DB の移行を考慮** | ✅ 移行しやすい | ❌ DB 依存が強い |


■Function
| 特徴 | Stored Procedure | Function |
|------|------------------|----------|
| **主な目的** | 複雑な処理やビジネスロジック | 値の計算や処理 |
| **戻り値** | 必ずしもなし（`OUT` パラメータや `SELECT` で返す） | 1つの値（`RETURN`） |
| **副作用** | データベースの変更可能 | 副作用なし |
| **パラメータ** | `IN`, `OUT`, `INOUT` | `IN` のみ |
| **呼び出し方法** | `CALL` 文 | `SELECT` 文内で使用 |
